<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Complément sur la fonction main :: Antora use case</title>
    <link rel="canonical" href="https://jacquelincharbonnel.github.io/antora_case/C/2022/C/mainfunc.html">
    <meta name="generator" content="Antora 3.1.14">
    <link rel="stylesheet" href="../../../_/css/site.css">
<!-- reference des feuilles de styles supplémentaires -->
<link rel="stylesheet" href="../../../_/css/layout.css">
<link rel="stylesheet" href="../../../_/css/content.css">

  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://jacquelincharbonnel.github.io/antora_case">Antora use case</a>
  <!-- suppression du burger du bandeau
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
-->      
    </div>
<!-- suppression des boutons du bandeau
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
      </div>
    </div>
-->
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="C" data-version="2021">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="base.html">Programmation en C</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Le langage C</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="base.html">Les bases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="fonctions.html">Fonctions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="tableaux.html">Tableaux</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pointeurs.html">Pointeurs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="strings.html">Chaînes de caractères</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="mainfunc.html">Fonction main</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bibliotheque.html">Organisation du code</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="fichiers.html">Fichiers de données</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="alloc.html">Allocation de mémoire</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="types.html">Complément sur les types</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="preproc.html">Le préprocesseur</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Programmation en C</span>
    <span class="version">2021</span>
  </div>
  <ul class="components">
    <li class="component">
      <div class="title"><a href="../../../genie_logiciel/2022/index.html">Génie logiciel</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../genie_logiciel/2022/index.html">2022</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../apache/2022/index.html">Le serveur Apache</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../apache/2022/index.html">2022</a>
        </li>
        <li class="version">
          <a href="../../../apache/2021/index.html">2021</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../makingof/Fr/index.html">Making Of</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../makingof/Fr/index.html">Fr</a>
        </li>
        <li class="version">
          <a href="../../../makingof/En/index.html">En</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../master/index.html">Master Data Science</a></div>
    </li>
    <li class="component is-current">
      <div class="title"><a href="../../2022/C/base.html">Programmation en C</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../2022/C/base.html">2022</a>
        </li>
        <li class="version is-current">
          <a href="base.html">2021</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../python_objet/2022/index.html">Python objet</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../python_objet/2022/index.html">2022</a>
        </li>
        <li class="version">
          <a href="../../../python_objet/2021/index.html">2021</a>
        </li>
        <li class="version">
          <a href="../../../python_objet/2020/index.html">2020</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../master/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="base.html">Programmation en C</a></li>
    <li>Le langage C</li>
    <li><a href="mainfunc.html">Fonction main</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">2021</button>
  <div class="version-menu">
    <a class="version" href="../../2022/C/mainfunc.html">2022</a>
    <a class="version is-current" href="mainfunc.html">2021</a>
  </div>
</div>
<!-- supression de "edit this page"
  <div class="edit-this-page"><a href="file:///home/jaclin/antora_components/antora_case/C/starts/last/modules/C/pages/mainfunc.adoc">Edit this Page</a></div>
-->
</div>
  <!-- ajout de la date de modification -->
  <div class="lastmodify"> modifié le <span id="lastmodify"/> </div>
  <!-- fin ajout -->
  <div class="content">
<aside class="toc sidebar" data-title="Plan" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Complément sur la fonction <code>main</code></h1>
<div class="sect1">
<h2 id="_arguments_de_la_ligne_de_commande"><a class="anchor" href="#_arguments_de_la_ligne_de_commande"></a>1. Arguments de la ligne de commande</h2>
<div class="sectionbody">
<div class="paragraph">
<p>On récupère les arguments de la ligne de commande via les paramètres de  <code>main</code>.
Il suffit pour cela de doter <code>main</code> de 2 paramètres :
1 <code>int</code> pour récupérer le nombre d&#8217;arguments
et 1 tableau/pointeur de chaînes de caractères
pour les arguments.</p>
</div>
<div class="listingblock">
<div class="title">exemple avec indice</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">int main(int argc, char *argv[])
{
  int i ;

  printf("%d argument(s)\n",argc) ;
  for (i=0 ; i&lt;argc ; i++)
    printf("argv[%d]=%s\n",i,argv[i]) ;

  return 0 ;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">exemple avec pointeur</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-c hljs" data-lang="c">int main(int argc, char **argv)
{

  printf("%d argument(s)\n",argc) ;
  while (*++argv) printf("%s ",*argv) ;
  return 0 ;
}</code></pre>
</div>
</div>
<div class="sidebarblock exercice">
<div class="content">
<div class="title"><a href="" title="main_calc">Exercice xx2</a></div>
<div class="paragraph">
<p>Ecrire un programme qui attend 3 arguments, un nombre, un signe +, - ou x, et un nombre,
et qui écrit le résultat de l&#8217;opération arithmétique correspondante
(indication : <code>strtod</code>, <code>atof</code> ou <code>sscanf</code>)</p>
</div>
</div>
</div>
<div class="sidebarblock exercice">
<div class="content">
<div class="title"><a href="" title="main_rpn">Exercice xx3</a></div>
<div class="paragraph">
<p>Ecrire un programme qui évalue une expression polonaise inversée sur la ligne de commande.
Par exemple :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ ./pol 1 2 3 + +
6
$ ./pol 1 2 + 3 *
9</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getopt"><a class="anchor" href="#_getopt"></a>2. <code>getopt</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getopt_long"><a class="anchor" href="#_getopt_long"></a>3. <code>getopt_long</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
</div>
<div class="sidebarblock exercice">
<div class="content">
<div class="title"><a href="" title="main_getoptlong">Exercice xx4</a></div>
<div class="paragraph">
<p>A l&#8217;aide de la fonction <code>getopt_long</code>, parser la ligne d&#8217;appel à une commande
dont la syntaxe est  :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">dfs [--update][--diff][--list][--friendly][--verbose][--debug][-c configfile]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p class="center">
  <span style="font-size: 0.9em;">
    <a href="https://jacquelincharbonnel.github.io/">Jacquelin Charbonnel</a>
    <!-- &nbsp; &mdash; &nbsp; -->
    &nbsp; &nbsp;
    &copy;Creative Commons BY-NC-SA 4.0
  </span>
  </p>
</footer>

<script>
var myDate = new Date(document.lastModified);
myNewDate = new Intl.DateTimeFormat(
            undefined,
            {year: "numeric", month: "long", day: "numeric", hour: "2-digit", minute: "2-digit"}
        )
        .format(myDate).replace(/\./g, '-');
document.getElementById("lastmodify").innerHTML = myNewDate ;
</script>

<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
